# –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä–µ

## –ü—Ä–æ–±–ª–µ–º–∞
–ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∫—Ä–µ–¥–∏—Ç–æ–≤" –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å—É–º–º—ã:
- –û—Å—Ç–∞—Ç–æ–∫ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏: `-15413831348` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å ~104 –º–ª–Ω)
- –ü–æ–≥–∞—à–µ–Ω–æ —Ç–µ–ª–∞: `19.9 –º–ª—Ä–¥` (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å ~4.3 –º–ª—Ä–¥)

## –ü—Ä–∏—á–∏–Ω–∞
–î—É–±–ª–∏–∫–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º —á–∏—Å–µ–ª –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ.

## –†–µ—à–µ–Ω–∏–µ –∑–∞ 3 –º–∏–Ω—É—Ç—ã

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ù–∞ –≤–∞—à–µ–º –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
cd /Users/evgenijsikunov/projects/west/west_buget_it
./check_and_clean_prod.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. ‚úÖ –ü–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä—É
2. ‚úÖ –û–±–Ω–æ–≤–∏—Ç –∫–æ–¥ –∏–∑ GitHub
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã
4. ‚úÖ –ü–æ–∫–∞–∂–µ—Ç —Ç–µ–∫—É—â–∏–µ —Å—É–º–º—ã
5. ‚úÖ –û—á–∏—Å—Ç–∏—Ç –¥–∞–Ω–Ω—ã–µ (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)
6. ‚úÖ –û—á–∏—Å—Ç–∏—Ç Redis –∫—ç—à

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@31.129.107.178

# 2. –ù–∞–π–¥–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
cd /root/west_buget_it  # –∏–ª–∏ /app/west_buget_it

# 3. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥
git pull origin main

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥—É–±–ª–∏–∫–∞—Ç—ã
cd backend
./scripts/check_duplicates_prod.sh

# 5. –û—á–∏—Å—Ç–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ
source venv/bin/activate
python scripts/clean_credit_data.py --department-id 8
# –í–≤–µ–¥–∏—Ç–µ 'yes'

# 6. –û—á–∏—Å—Ç–∏—Ç–µ Redis
docker exec $(docker ps | grep redis | awk '{print $1}') redis-cli FLUSHDB
```

## –ü–æ—Å–ª–µ –æ—á–∏—Å—Ç–∫–∏

–î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è:
- ‚è∞ –ü–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é –≤ **08:00 MSK** –∫–∞–∂–¥—ã–π –¥–µ–Ω—å
- üîÑ –ò–ª–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ API: `POST /api/v1/credit-portfolio/import/trigger`

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–û—Ç–∫—Ä–æ–π—Ç–µ: `https://your-domain.com/credit-portfolio/dashboard`

–î–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Å—É–º–º—ã:
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–æ –∫—Ä–µ–¥–∏—Ç–æ–≤: ~4.5 –º–ª—Ä–¥
- ‚úÖ –ü–æ–≥–∞—à–µ–Ω–æ —Ç–µ–ª–∞: ~4.3 –º–ª—Ä–¥
- ‚úÖ –£–ø–ª–∞—á–µ–Ω–æ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤: ~185 –º–ª–Ω
- ‚úÖ –û—Å—Ç–∞—Ç–æ–∫: ~104 –º–ª–Ω

## –ï—Å–ª–∏ –Ω–µ –ø–æ–º–æ–≥–ª–æ

1. **–û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞**: Ctrl+Shift+R (–∏–ª–∏ Cmd+Shift+R –Ω–∞ Mac)
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞**: –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç —Å `Number()` –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è–º–∏
3. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**:
   ```bash
   docker-compose restart backend frontend
   ```

## –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–õ–æ–∫–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ø–æ—Ä—è–¥–∫–µ:
```
‚úÖ fin_receipts: 1492 –∑–∞–ø–∏—Å–µ–π, 0 –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
‚úÖ fin_expenses: 10958 –∑–∞–ø–∏—Å–µ–π, 0 –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
‚úÖ –°—É–º–º—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ:
   - –ü–æ–ª—É—á–µ–Ω–æ: 4,455,387,241.61
   - –ü–æ–≥–∞—à–µ–Ω–æ —Ç–µ–ª–∞: 4,350,755,636.02
   - –£–ø–ª–∞—á–µ–Ω–æ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤: 185,326,194.47
   - –û—Å—Ç–∞—Ç–æ–∫: 104,631,605.59
```

–ü—Ä–æ–±–ª–µ–º–∞ **—Ç–æ–ª—å–∫–æ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä–µ**!
