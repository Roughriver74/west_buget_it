// ================================================
// –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å—á–µ—Ç–æ–≤ –∏–∑ —Å–∏—Å—Ç–µ–º—ã –±—é–¥–∂–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
// –∏ —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ 1–°:–ü—Ä–µ–¥–ø—Ä–∏—è—Ç–∏–µ (–£–¢)
// ================================================
// –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: 1–° –∑–∞–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ JSON,
// –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ 1–°
// ================================================

#–û–±–ª–∞—Å—Ç—å –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

// –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—á–µ—Ç–æ–≤
//
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –û–±—Ä–∞–±–æ—Ç–∞—Ç—å–°—á–µ—Ç–∞() –≠–∫—Å–ø–æ—Ä—Ç

	–°–æ–æ–±—â–∏—Ç—å("=== –ù–ê–ß–ê–õ–û –û–ë–†–ê–ë–û–¢–ö–ò –°–ß–ï–¢–û–í –ò–ó API ===");

	// 1. –ü–æ–ª—É—á–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
	–ê–¥—Ä–µ—ÅAPI = –ü–æ–ª—É—á–∏—Ç—å–ù–∞—Å—Ç—Ä–æ–π–∫—É("–ê–¥—Ä–µ—ÅAPI"); // http://93.189.228.52:8000/api/v1
	APIToken = –ü–æ–ª—É—á–∏—Ç—å–ù–∞—Å—Ç—Ä–æ–π–∫—É("APIToken"); // –¢–æ–∫–µ–Ω –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "API Tokens"
	–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–û—Ç–¥–µ–ª–∞ = –ü–æ–ª—É—á–∏—Ç—å–ù–∞—Å—Ç—Ä–æ–π–∫—É("–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–û—Ç–¥–µ–ª–∞"); // department_id

	–ï—Å–ª–∏ –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(–ê–¥—Ä–µ—ÅAPI) –ò–ª–∏ –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(APIToken) –¢–æ–≥–¥–∞
		–°–æ–æ–±—â–∏—Ç—å("‚ùå –û—à–∏–±–∫–∞: –ù–µ –∑–∞–¥–∞–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API!");
		–í–æ–∑–≤—Ä–∞—Ç;
	–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–°–æ–æ–±—â–∏—Ç—å("üì° –ê–¥—Ä–µ—Å API: " + –ê–¥—Ä–µ—ÅAPI);

	// 2. –ü–æ–ª—É—á–∞–µ–º —Å–ø–∏—Å–æ–∫ —Å—á–µ—Ç–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
	–°–ø–∏—Å–æ–∫–°—á–µ—Ç–æ–≤ = –ü–æ–ª—É—á–∏—Ç—å–°–ø–∏—Å–æ–∫–°—á–µ—Ç–æ–≤(–ê–¥—Ä–µ—ÅAPI, APIToken, –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–û—Ç–¥–µ–ª–∞);

	–ï—Å–ª–∏ –°–ø–∏—Å–æ–∫–°—á–µ—Ç–æ–≤ = –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –¢–æ–≥–¥–∞
		–°–æ–æ–±—â–∏—Ç—å("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–ø–∏—Å–∫–∞ —Å—á–µ—Ç–æ–≤");
		–í–æ–∑–≤—Ä–∞—Ç;
	–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–ï—Å–ª–∏ –°–ø–∏—Å–æ–∫–°—á–µ—Ç–æ–≤.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ() = 0 –¢–æ–≥–¥–∞
		–°–æ–æ–±—â–∏—Ç—å("‚úÖ –ù–µ—Ç —Å—á–µ—Ç–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏");
		–í–æ–∑–≤—Ä–∞—Ç;
	–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–°–æ–æ–±—â–∏—Ç—å("üìã –ü–æ–ª—É—á–µ–Ω–æ —Å—á–µ—Ç–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: " + –°—Ç—Ä–æ–∫–∞(–°–ø–∏—Å–æ–∫–°—á–µ—Ç–æ–≤.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ()));

	// 3. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∫–∞–∂–¥—ã–π —Å—á–µ—Ç
	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–£—Å–ø–µ—à–Ω—ã—Ö = 0;
	–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–û—à–∏–±–æ–∫ = 0;

	–î–ª—è –ö–∞–∂–¥–æ–≥–æ –ö—Ä–∞—Ç–∫–∞—è–ò–Ω—Ñ–æ–°—á–µ—Ç–∞ –ò–∑ –°–ø–∏—Å–æ–∫–°—á–µ—Ç–æ–≤ –¶–∏–∫–ª

		–ü–æ–ø—ã—Ç–∫–∞

			–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–°—á–µ—Ç–∞ = –ö—Ä–∞—Ç–∫–∞—è–ò–Ω—Ñ–æ–°—á–µ—Ç–∞["invoice_id"];
			–ù–æ–º–µ—Ä–°—á–µ—Ç–∞ = –ö—Ä–∞—Ç–∫–∞—è–ò–Ω—Ñ–æ–°—á–µ—Ç–∞["invoice_number"];

			–°–æ–æ–±—â–∏—Ç—å("");
			–°–æ–æ–±—â–∏—Ç—å("‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ");
			–°–æ–æ–±—â–∏—Ç—å("üìÑ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—á–µ—Ç–∞ ‚Ññ" + –ù–æ–º–µ—Ä–°—á–µ—Ç–∞ + " (ID: " + –§–æ—Ä–º–∞—Ç(–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–°—á–µ—Ç–∞, "–ß–ì=") + ")");

			// 3.1 –ü–æ–ª—É—á–∞–µ–º –ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—á–µ—Ç–∞ –≤ JSON
			–ü–æ–ª–Ω—ã–µ–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞ = –ü–æ–ª—É—á–∏—Ç—å–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞(–ê–¥—Ä–µ—ÅAPI, APIToken, –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–°—á–µ—Ç–∞);

			–ï—Å–ª–∏ –ü–æ–ª–Ω—ã–µ–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞ = –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –¢–æ–≥–¥–∞
				–°–æ–æ–±—â–∏—Ç—å("‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å—á–µ—Ç–∞");
				–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–û—à–∏–±–æ–∫ = –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–û—à–∏–±–æ–∫ + 1;
				–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å;
			–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

			// –í—ã–≤–æ–¥–∏–º –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
			–°–æ–æ–±—â–∏—Ç—å("   –ù–æ–º–µ—Ä —Å—á–µ—Ç–∞: " + –ü–æ–ª–Ω—ã–µ–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["invoice_number"]);
			–°–æ–æ–±—â–∏—Ç—å("   –î–∞—Ç–∞: " + –ü–æ–ª–Ω—ã–µ–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["invoice_date"]);
			–°–æ–æ–±—â–∏—Ç—å("   –ü–æ—Å—Ç–∞–≤—â–∏–∫: " + –ü–æ–ª–Ω—ã–µ–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["supplier_name"]);
			–ï—Å–ª–∏ –ó–Ω–∞—á–µ–Ω–∏–µ–ó–∞–ø–æ–ª–Ω–µ–Ω–æ(–ü–æ–ª–Ω—ã–µ–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["supplier_inn"]) –¢–æ–≥–¥–∞
				–°–æ–æ–±—â–∏—Ç—å("   –ò–ù–ù: " + –ü–æ–ª–Ω—ã–µ–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["supplier_inn"]);
			–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
			–°–æ–æ–±—â–∏—Ç—å("   –°—É–º–º–∞: " + –§–æ—Ä–º–∞—Ç(–ü–æ–ª–Ω—ã–µ–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["total_amount"], "–ß–¶=15; –ß–î–¶=2") + " —Ä—É–±.");

			// 3.2 –°–æ–∑–¥–∞–µ–º –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ 1–°
			–†–µ–∑—É–ª—å—Ç–∞—Ç–°–æ–∑–¥–∞–Ω–∏—è = –°–æ–∑–¥–∞—Ç—å–î–æ–∫—É–º–µ–Ω—Ç—ã–í1–°(–ü–æ–ª–Ω—ã–µ–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞);

			–ï—Å–ª–∏ –†–µ–∑—É–ª—å—Ç–∞—Ç–°–æ–∑–¥–∞–Ω–∏—è.–£—Å–ø–µ—Ö –¢–æ–≥–¥–∞
				–°–æ–æ–±—â–∏—Ç—å("‚úÖ –°—á–µ—Ç —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω!");
				–°–æ–æ–±—â–∏—Ç—å("   –°–æ–∑–¥–∞–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤: " + –†–µ–∑—É–ª—å—Ç–∞—Ç–°–æ–∑–¥–∞–Ω–∏—è.–°–æ–∑–¥–∞–Ω–Ω—ã–µ–î–æ–∫—É–º–µ–Ω—Ç—ã);
				–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–£—Å–ø–µ—à–Ω—ã—Ö = –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–£—Å–ø–µ—à–Ω—ã—Ö + 1;

				// 3.3 –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ–º –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—á–µ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
				–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å–ü–æ–ª—É—á–µ–Ω–∏–µ–°—á–µ—Ç–∞(–ê–¥—Ä–µ—ÅAPI, APIToken, –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–°—á–µ—Ç–∞);
			–ò–Ω–∞—á–µ
				–°–æ–æ–±—â–∏—Ç—å("‚ùå –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏: " + –†–µ–∑—É–ª—å—Ç–∞—Ç–°–æ–∑–¥–∞–Ω–∏—è.–û—à–∏–±–∫–∞);
				–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–û—à–∏–±–æ–∫ = –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–û—à–∏–±–æ–∫ + 1;
			–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

		–ò—Å–∫–ª—é—á–µ–Ω–∏–µ
			–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–û—à–∏–±–æ–∫ = –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–û—à–∏–±–æ–∫ + 1;
			–°–æ–æ–±—â–∏—Ç—å("‚ùå –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Å—á–µ—Ç–∞: " + –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏());
		–ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;

	–ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;

	// 4. –ò—Ç–æ–≥–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
	–°–æ–æ–±—â–∏—Ç—å("");
	–°–æ–æ–±—â–∏—Ç—å("‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê");
	–°–æ–æ–±—â–∏—Ç—å("=== –ò–¢–û–ì–ò –û–ë–†–ê–ë–û–¢–ö–ò ===");
	–°–æ–æ–±—â–∏—Ç—å("–í—Å–µ–≥–æ —Å—á–µ—Ç–æ–≤: " + –°—Ç—Ä–æ–∫–∞(–°–ø–∏—Å–æ–∫–°—á–µ—Ç–æ–≤.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ()));
	–°–æ–æ–±—â–∏—Ç—å("‚úÖ –£—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: " + –°—Ç—Ä–æ–∫–∞(–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–£—Å–ø–µ—à–Ω—ã—Ö));
	–°–æ–æ–±—â–∏—Ç—å("‚ùå –û—à–∏–±–æ–∫: " + –°—Ç—Ä–æ–∫–∞(–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–û—à–∏–±–æ–∫));
	–°–æ–æ–±—â–∏—Ç—å("‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê");

–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã

#–ö–æ–Ω–µ—Ü–û–±–ª–∞—Å—Ç–∏

#–û–±–ª–∞—Å—Ç—å –°–ª—É–∂–µ–±–Ω—ã–µ–ü—Ä–æ—Ü–µ–¥—É—Ä—ã–ò–§—É–Ω–∫—Ü–∏–∏

// ======================================
// API –ó–ê–ü–†–û–°–´
// ======================================

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Å—á–µ—Ç–æ–≤ –∏–∑ API (–∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
//
// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
//   –ê–¥—Ä–µ—ÅAPI - –°—Ç—Ä–æ–∫–∞ - –ë–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å API
//   APIToken - –°—Ç—Ä–æ–∫–∞ - –¢–æ–∫–µ–Ω –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
//   –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–û—Ç–¥–µ–ª–∞ - –ß–∏—Å–ª–æ - ID –æ—Ç–¥–µ–ª–∞ (department_id)
//
// –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
//   –ú–∞—Å—Å–∏–≤ - –ú–∞—Å—Å–∏–≤ —Å—Ç—Ä—É–∫—Ç—É—Ä —Å –∫—Ä–∞—Ç–∫–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å—á–µ—Ç–∞—Ö
//
–§—É–Ω–∫—Ü–∏—è –ü–æ–ª—É—á–∏—Ç—å–°–ø–∏—Å–æ–∫–°—á–µ—Ç–æ–≤(–ê–¥—Ä–µ—ÅAPI, APIToken, –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–û—Ç–¥–µ–ª–∞)

	URL = –ê–¥—Ä–µ—ÅAPI + "/external/invoices/pending";

	–ï—Å–ª–∏ –ó–Ω–∞—á–µ–Ω–∏–µ–ó–∞–ø–æ–ª–Ω–µ–Ω–æ(–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–û—Ç–¥–µ–ª–∞) –¢–æ–≥–¥–∞
		URL = URL + "?department_id=" + –°—Ç—Ä–æ–∫–∞(–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–û—Ç–¥–µ–ª–∞);
	–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ = –ù–æ–≤—ã–π HTTP–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ(
		–ò–∑–≤–ª–µ—á—å–•–æ—Å—Ç–ò–∑URL(–ê–¥—Ä–µ—ÅAPI),
		–ò–∑–≤–ª–µ—á—å–ü–æ—Ä—Ç–ò–∑URL(–ê–¥—Ä–µ—ÅAPI),,,,,,
		–ù–æ–≤—ã–π –ó–∞—â–∏—â–µ–Ω–Ω–æ–µ–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µOpenSSL()
	);

	–ó–∞–ø—Ä–æ—Å = –ù–æ–≤—ã–π HTTP–ó–∞–ø—Ä–æ—Å(–ò–∑–≤–ª–µ—á—å–ü—É—Ç—å–ò–∑URL(URL));
	–ó–∞–ø—Ä–æ—Å.–ó–∞–≥–æ–ª–æ–≤–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("Authorization", "Bearer " + APIToken);
	–ó–∞–ø—Ä–æ—Å.–ó–∞–≥–æ–ª–æ–≤–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("Accept", "application/json");

	–ü–æ–ø—ã—Ç–∫–∞
		–û—Ç–≤–µ—Ç = –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.–ü–æ–ª—É—á–∏—Ç—å(–ó–∞–ø—Ä–æ—Å);

		–ï—Å–ª–∏ –û—Ç–≤–µ—Ç.–ö–æ–¥–°–æ—Å—Ç–æ—è–Ω–∏—è = 200 –¢–æ–≥–¥–∞
			–¢–µ–∫—Å—Ç–û—Ç–≤–µ—Ç–∞ = –û—Ç–≤–µ—Ç.–ü–æ–ª—É—á–∏—Ç—å–¢–µ–ª–æ–ö–∞–∫–°—Ç—Ä–æ–∫—É();
			–ß—Ç–µ–Ω–∏–µJSON = –ù–æ–≤—ã–π –ß—Ç–µ–Ω–∏–µJSON();
			–ß—Ç–µ–Ω–∏–µJSON.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–°—Ç—Ä–æ–∫—É(–¢–µ–∫—Å—Ç–û—Ç–≤–µ—Ç–∞);
			–ú–∞—Å—Å–∏–≤–°—á–µ—Ç–æ–≤ = –ü—Ä–æ—á–∏—Ç–∞—Ç—åJSON(–ß—Ç–µ–Ω–∏–µJSON);
			–í–æ–∑–≤—Ä–∞—Ç –ú–∞—Å—Å–∏–≤–°—á–µ—Ç–æ–≤;
		–ò–Ω–∞—á–µ–ï—Å–ª–∏ –û—Ç–≤–µ—Ç.–ö–æ–¥–°–æ—Å—Ç–æ—è–Ω–∏—è = 401 –¢–æ–≥–¥–∞
			–°–æ–æ–±—â–∏—Ç—å("‚ùå –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API Token");
			–í–æ–∑–≤—Ä–∞—Ç –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ;
		–ò–Ω–∞—á–µ–ï—Å–ª–∏ –û—Ç–≤–µ—Ç.–ö–æ–¥–°–æ—Å—Ç–æ—è–Ω–∏—è = 403 –¢–æ–≥–¥–∞
			–°–æ–æ–±—â–∏—Ç—å("‚ùå –î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ scope —Ç–æ–∫–µ–Ω–∞ (—Ç—Ä–µ–±—É–µ—Ç—Å—è READ)");
			–í–æ–∑–≤—Ä–∞—Ç –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ;
		–ò–Ω–∞—á–µ
			–°–æ–æ–±—â–∏—Ç—å("‚ùå –û—à–∏–±–∫–∞ HTTP: " + –°—Ç—Ä–æ–∫–∞(–û—Ç–≤–µ—Ç.–ö–æ–¥–°–æ—Å—Ç–æ—è–Ω–∏—è));
			–°–æ–æ–±—â–∏—Ç—å("   " + –û—Ç–≤–µ—Ç.–ü–æ–ª—É—á–∏—Ç—å–¢–µ–ª–æ–ö–∞–∫–°—Ç—Ä–æ–∫—É());
			–í–æ–∑–≤—Ä–∞—Ç –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ;
		–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–ò—Å–∫–ª—é—á–µ–Ω–∏–µ
		–°–æ–æ–±—â–∏—Ç—å("‚ùå –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API: " + –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏());
		–í–æ–∑–≤—Ä–∞—Ç –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ;
	–ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏


// –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–ª–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å—á–µ—Ç–∞ –≤ JSON
//
// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
//   –ê–¥—Ä–µ—ÅAPI - –°—Ç—Ä–æ–∫–∞
//   APIToken - –°—Ç—Ä–æ–∫–∞
//   –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–°—á–µ—Ç–∞ - –ß–∏—Å–ª–æ
//
// –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
//   –°—Ç—Ä—É–∫—Ç—É—Ä–∞ - –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—á–µ—Ç–∞ –≤–∫–ª—é—á–∞—è OCR —Ç–µ–∫—Å—Ç –∏ AI –æ—Ç–≤–µ—Ç
//
–§—É–Ω–∫—Ü–∏—è –ü–æ–ª—É—á–∏—Ç—å–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞(–ê–¥—Ä–µ—ÅAPI, APIToken, –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–°—á–µ—Ç–∞)

	URL = –ê–¥—Ä–µ—ÅAPI + "/external/invoices/" + –°—Ç—Ä–æ–∫–∞(–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–°—á–µ—Ç–∞);

	–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ = –ù–æ–≤—ã–π HTTP–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ(
		–ò–∑–≤–ª–µ—á—å–•–æ—Å—Ç–ò–∑URL(–ê–¥—Ä–µ—ÅAPI),
		–ò–∑–≤–ª–µ—á—å–ü–æ—Ä—Ç–ò–∑URL(–ê–¥—Ä–µ—ÅAPI),,,,,,
		–ù–æ–≤—ã–π –ó–∞—â–∏—â–µ–Ω–Ω–æ–µ–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µOpenSSL()
	);

	–ó–∞–ø—Ä–æ—Å = –ù–æ–≤—ã–π HTTP–ó–∞–ø—Ä–æ—Å(–ò–∑–≤–ª–µ—á—å–ü—É—Ç—å–ò–∑URL(URL));
	–ó–∞–ø—Ä–æ—Å.–ó–∞–≥–æ–ª–æ–≤–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("Authorization", "Bearer " + APIToken);
	–ó–∞–ø—Ä–æ—Å.–ó–∞–≥–æ–ª–æ–≤–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("Accept", "application/json");

	–ü–æ–ø—ã—Ç–∫–∞
		–û—Ç–≤–µ—Ç = –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.–ü–æ–ª—É—á–∏—Ç—å(–ó–∞–ø—Ä–æ—Å);

		–ï—Å–ª–∏ –û—Ç–≤–µ—Ç.–ö–æ–¥–°–æ—Å—Ç–æ—è–Ω–∏—è = 200 –¢–æ–≥–¥–∞
			–¢–µ–∫—Å—Ç–û—Ç–≤–µ—Ç–∞ = –û—Ç–≤–µ—Ç.–ü–æ–ª—É—á–∏—Ç—å–¢–µ–ª–æ–ö–∞–∫–°—Ç—Ä–æ–∫—É();
			–ß—Ç–µ–Ω–∏–µJSON = –ù–æ–≤—ã–π –ß—Ç–µ–Ω–∏–µJSON();
			–ß—Ç–µ–Ω–∏–µJSON.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–°—Ç—Ä–æ–∫—É(–¢–µ–∫—Å—Ç–û—Ç–≤–µ—Ç–∞);
			–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞ = –ü—Ä–æ—á–∏—Ç–∞—Ç—åJSON(–ß—Ç–µ–Ω–∏–µJSON);
			–í–æ–∑–≤—Ä–∞—Ç –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞;
		–ò–Ω–∞—á–µ–ï—Å–ª–∏ –û—Ç–≤–µ—Ç.–ö–æ–¥–°–æ—Å—Ç–æ—è–Ω–∏—è = 404 –¢–æ–≥–¥–∞
			–°–æ–æ–±—â–∏—Ç—å("‚ùå –°—á–µ—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω");
			–í–æ–∑–≤—Ä–∞—Ç –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ;
		–ò–Ω–∞—á–µ
			–°–æ–æ–±—â–∏—Ç—å("‚ùå –û—à–∏–±–∫–∞ HTTP: " + –°—Ç—Ä–æ–∫–∞(–û—Ç–≤–µ—Ç.–ö–æ–¥–°–æ—Å—Ç–æ—è–Ω–∏—è));
			–í–æ–∑–≤—Ä–∞—Ç –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ;
		–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–ò—Å–∫–ª—é—á–µ–Ω–∏–µ
		–°–æ–æ–±—â–∏—Ç—å("‚ùå –û—à–∏–±–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö —Å—á–µ—Ç–∞: " + –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏());
		–í–æ–∑–≤—Ä–∞—Ç –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ;
	–ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏


// –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—á–µ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
//
// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
//   –ê–¥—Ä–µ—ÅAPI - –°—Ç—Ä–æ–∫–∞
//   APIToken - –°—Ç—Ä–æ–∫–∞
//   –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–°—á–µ—Ç–∞ - –ß–∏—Å–ª–æ
//
–ü—Ä–æ—Ü–µ–¥—É—Ä–∞ –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å–ü–æ–ª—É—á–µ–Ω–∏–µ–°—á–µ—Ç–∞(–ê–¥—Ä–µ—ÅAPI, APIToken, –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–°—á–µ—Ç–∞)

	URL = –ê–¥—Ä–µ—ÅAPI + "/external/invoices/" + –°—Ç—Ä–æ–∫–∞(–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–°—á–µ—Ç–∞) + "/acknowledge";

	–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ = –ù–æ–≤—ã–π HTTP–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ(
		–ò–∑–≤–ª–µ—á—å–•–æ—Å—Ç–ò–∑URL(–ê–¥—Ä–µ—ÅAPI),
		–ò–∑–≤–ª–µ—á—å–ü–æ—Ä—Ç–ò–∑URL(–ê–¥—Ä–µ—ÅAPI),,,,,,
		–ù–æ–≤—ã–π –ó–∞—â–∏—â–µ–Ω–Ω–æ–µ–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µOpenSSL()
	);

	–ó–∞–ø—Ä–æ—Å = –ù–æ–≤—ã–π HTTP–ó–∞–ø—Ä–æ—Å(–ò–∑–≤–ª–µ—á—å–ü—É—Ç—å–ò–∑URL(URL));
	–ó–∞–ø—Ä–æ—Å.–ó–∞–≥–æ–ª–æ–≤–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("Authorization", "Bearer " + APIToken);
	–ó–∞–ø—Ä–æ—Å.–ó–∞–≥–æ–ª–æ–≤–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("Content-Type", "application/json");

	–ü–æ–ø—ã—Ç–∫–∞
		–û—Ç–≤–µ—Ç = –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.–û—Ç–ø—Ä–∞–≤–∏—Ç—å–î–ª—è–û–±—Ä–∞–±–æ—Ç–∫–∏("POST", –ó–∞–ø—Ä–æ—Å);

		–ï—Å–ª–∏ –û—Ç–≤–µ—Ç.–ö–æ–¥–°–æ—Å—Ç–æ—è–Ω–∏—è <> 200 –¢–æ–≥–¥–∞
			// –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –ø—Ä–æ—Å—Ç–æ –ª–æ–≥–∏—Ä—É–µ–º
			–°–æ–æ–±—â–∏—Ç—å("‚ö†Ô∏è  –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ: HTTP " + –°—Ç—Ä–æ–∫–∞(–û—Ç–≤–µ—Ç.–ö–æ–¥–°–æ—Å—Ç–æ—è–Ω–∏—è));
		–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–ò—Å–∫–ª—é—á–µ–Ω–∏–µ
		// –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏ acknowledge - —ç—Ç–æ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ
	–ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;

–ö–æ–Ω–µ—Ü–ü—Ä–æ—Ü–µ–¥—É—Ä—ã


// ======================================
// –°–û–ó–î–ê–ù–ò–ï –î–û–ö–£–ú–ï–ù–¢–û–í –í 1–°
// ======================================

// –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –≤ 1–° –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö —Å—á–µ—Ç–∞
//
// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
//   –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞ - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ - –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—á–µ—Ç–∞ –∏–∑ API
//
// –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
//   –°—Ç—Ä—É–∫—Ç—É—Ä–∞ - –†–µ–∑—É–ª—å—Ç–∞—Ç —Å –∫–ª—é—á–∞–º–∏: –£—Å–ø–µ—Ö, –û—à–∏–±–∫–∞, –°–æ–∑–¥–∞–Ω–Ω—ã–µ–î–æ–∫—É–º–µ–Ω—Ç—ã
//
–§—É–Ω–∫—Ü–∏—è –°–æ–∑–¥–∞—Ç—å–î–æ–∫—É–º–µ–Ω—Ç—ã–í1–°(–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞)

	–†–µ–∑—É–ª—å—Ç–∞—Ç = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
	–†–µ–∑—É–ª—å—Ç–∞—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("–£—Å–ø–µ—Ö", –õ–æ–∂—å);
	–†–µ–∑—É–ª—å—Ç–∞—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("–û—à–∏–±–∫–∞", "");
	–†–µ–∑—É–ª—å—Ç–∞—Ç.–í—Å—Ç–∞–≤–∏—Ç—å("–°–æ–∑–¥–∞–Ω–Ω—ã–µ–î–æ–∫—É–º–µ–Ω—Ç—ã", "");

	–ü–æ–ø—ã—Ç–∫–∞

		// 1. –ù–∞–π—Ç–∏ –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞ –ø–æ –ò–ù–ù
		–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç = –ù–∞–π—Ç–∏–ò–ª–∏–°–æ–∑–¥–∞—Ç—å–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞(–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞);

		–ï—Å–ª–∏ –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç = –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –¢–æ–≥–¥–∞
			–†–µ–∑—É–ª—å—Ç–∞—Ç.–û—à–∏–±–∫–∞ = "–ù–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏/—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞";
			–í–æ–∑–≤—Ä–∞—Ç –†–µ–∑—É–ª—å—Ç–∞—Ç;
		–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

		// 2. –ü–æ–ª—É—á–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é
		–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è = –ü–æ–ª—É—á–∏—Ç—å–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é(–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞);

		–ï—Å–ª–∏ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è = –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –¢–æ–≥–¥–∞
			–†–µ–∑—É–ª—å—Ç–∞—Ç.–û—à–∏–±–∫–∞ = "–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é";
			–í–æ–∑–≤—Ä–∞—Ç –†–µ–∑—É–ª—å—Ç–∞—Ç;
		–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

		// 3. –°–æ–∑–¥–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç "–ó–∞—è–≤–∫–∞ –Ω–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–∏–µ –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤"
		// TODO: –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞
		–ó–∞—è–≤–∫–∞–ù–∞–†–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–∏–µ = –°–æ–∑–¥–∞—Ç—å–ó–∞—è–≤–∫—É–ù–∞–†–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–∏–µ(–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞, –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç, –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è);

		–ï—Å–ª–∏ –ó–∞—è–≤–∫–∞–ù–∞–†–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–∏–µ = –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –¢–æ–≥–¥–∞
			–†–µ–∑—É–ª—å—Ç–∞—Ç.–û—à–∏–±–∫–∞ = "–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∑–∞—è–≤–∫—É –Ω–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–∏–µ";
			–í–æ–∑–≤—Ä–∞—Ç –†–µ–∑—É–ª—å—Ç–∞—Ç;
		–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

		// 4. –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è
		// –ù–∞–ø—Ä–∏–º–µ—Ä: –°—á–µ—Ç –Ω–∞ –æ–ø–ª–∞—Ç—É, –ü–ª–∞—Ç–µ–∂–Ω–æ–µ –ø–æ—Ä—É—á–µ–Ω–∏–µ –∏ —Ç.–¥.

		–†–µ–∑—É–ª—å—Ç–∞—Ç.–£—Å–ø–µ—Ö = –ò—Å—Ç–∏–Ω–∞;
		–†–µ–∑—É–ª—å—Ç–∞—Ç.–°–æ–∑–¥–∞–Ω–Ω—ã–µ–î–æ–∫—É–º–µ–Ω—Ç—ã = "–ó–∞—è–≤–∫–∞ ‚Ññ" + –ó–∞—è–≤–∫–∞–ù–∞–†–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–∏–µ.–ù–æ–º–µ—Ä;

		–í–æ–∑–≤—Ä–∞—Ç –†–µ–∑—É–ª—å—Ç–∞—Ç;

	–ò—Å–∫–ª—é—á–µ–Ω–∏–µ
		–†–µ–∑—É–ª—å—Ç–∞—Ç.–û—à–∏–±–∫–∞ = –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏();
		–í–æ–∑–≤—Ä–∞—Ç –†–µ–∑—É–ª—å—Ç–∞—Ç;
	–ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏


// –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ "–ó–∞—è–≤–∫–∞ –Ω–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–∏–µ –¥–µ–Ω–µ–∂–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤"
//
// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
//   –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞ - –°—Ç—Ä—É–∫—Ç—É—Ä–∞
//   –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–°—Å—ã–ª–∫–∞.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã
//   –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–°—Å—ã–ª–∫–∞.–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
//
// –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
//   –î–æ–∫—É–º–µ–Ω—Ç–°—Å—ã–ª–∫–∞ - –°—Å—ã–ª–∫–∞ –Ω–∞ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
//
–§—É–Ω–∫—Ü–∏—è –°–æ–∑–¥–∞—Ç—å–ó–∞—è–≤–∫—É–ù–∞–†–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–∏–µ(–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞, –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç, –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è)

	–ü–æ–ø—ã—Ç–∫–∞

		// TODO: –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞
		–ù–æ–≤–∞—è–ó–∞—è–≤–∫–∞ = –î–æ–∫—É–º–µ–Ω—Ç—ã.–ó–∞—è–≤–∫–∞–ù–∞–†–∞—Å—Ö–æ–¥–æ–≤–∞–Ω–∏–µ–î–µ–Ω–µ–∂–Ω—ã—Ö–°—Ä–µ–¥—Å—Ç–≤.–°–æ–∑–¥–∞—Ç—å–î–æ–∫—É–º–µ–Ω—Ç();

		// –ó–∞–ø–æ–ª–Ω—è–µ–º —Ä–µ–∫–≤–∏–∑–∏—Ç—ã —à–∞–ø–∫–∏
		–ù–æ–≤–∞—è–ó–∞—è–≤–∫–∞.–î–∞—Ç–∞ = –¢–µ–∫—É—â–∞—è–î–∞—Ç–∞();
		–ù–æ–≤–∞—è–ó–∞—è–≤–∫–∞.–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è = –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è;
		–ù–æ–≤–∞—è–ó–∞—è–≤–∫–∞.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç = –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç;

		// –°—É–º–º–∞
		–ï—Å–ª–∏ –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞.–°–≤–æ–π—Å—Ç–≤–æ("total_amount") –¢–æ–≥–¥–∞
			–ù–æ–≤–∞—è–ó–∞—è–≤–∫–∞.–°—É–º–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞ = –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["total_amount"];
		–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

		// –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
		–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ–ü–ª–∞—Ç–µ–∂–∞ = "";
		–ï—Å–ª–∏ –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞.–°–≤–æ–π—Å—Ç–≤–æ("payment_purpose") –ò –ó–Ω–∞—á–µ–Ω–∏–µ–ó–∞–ø–æ–ª–Ω–µ–Ω–æ(–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["payment_purpose"]) –¢–æ–≥–¥–∞
			–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ–ü–ª–∞—Ç–µ–∂–∞ = –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["payment_purpose"];
		–ò–Ω–∞—á–µ
			–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ–ü–ª–∞—Ç–µ–∂–∞ = "–û–ø–ª–∞—Ç–∞ –ø–æ —Å—á–µ—Ç—É ‚Ññ" + –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["invoice_number"];
			–ï—Å–ª–∏ –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞.–°–≤–æ–π—Å—Ç–≤–æ("invoice_date") –ò –ó–Ω–∞—á–µ–Ω–∏–µ–ó–∞–ø–æ–ª–Ω–µ–Ω–æ(–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["invoice_date"]) –¢–æ–≥–¥–∞
				–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ–ü–ª–∞—Ç–µ–∂–∞ = –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ–ü–ª–∞—Ç–µ–∂–∞ + " –æ—Ç " + –§–æ—Ä–º–∞—Ç(XML–ó–Ω–∞—á–µ–Ω–∏–µ(–¢–∏–ø("–î–∞—Ç–∞"), –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["invoice_date"]), "–î–õ–§=D");
			–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
		–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
		–ù–æ–≤–∞—è–ó–∞—è–≤–∫–∞.–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ–ü–ª–∞—Ç–µ–∂–∞ = –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ–ü–ª–∞—Ç–µ–∂–∞;

		// –°—Ç–∞—Ç—å—è –∑–∞—Ç—Ä–∞—Ç
		–°—Ç–∞—Ç—å—è–ó–∞—Ç—Ä–∞—Ç = –ü–æ–ª—É—á–∏—Ç—å–°—Ç–∞—Ç—å—é–ó–∞—Ç—Ä–∞—Ç(); // TODO: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
		–ï—Å–ª–∏ –°—Ç–∞—Ç—å—è–ó–∞—Ç—Ä–∞—Ç <> –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –¢–æ–≥–¥–∞
			–ù–æ–≤–∞—è–ó–∞—è–≤–∫–∞.–°—Ç–∞—Ç—å—è–ó–∞—Ç—Ä–∞—Ç = –°—Ç–∞—Ç—å—è–ó–∞—Ç—Ä–∞—Ç;
		–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

		// –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π - –¥–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –∏—Å—Ç–æ—á–Ω–∏–∫–µ
		–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π = "–°–æ–∑–¥–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã –±—é–¥–∂–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è." + –°–∏–º–≤–æ–ª—ã.–ü–°;
		–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π = –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π + "ID —Å—á–µ—Ç–∞: " + –§–æ—Ä–º–∞—Ç(–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["invoice_id"], "–ß–ì=") + –°–∏–º–≤–æ–ª—ã.–ü–°;
		–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π = –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π + "–§–∞–π–ª: " + –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["original_filename"];
		–ù–æ–≤–∞—è–ó–∞—è–≤–∫–∞.–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π = –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π;

		// TODO: –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–∞–±–ª–∏—á–Ω—É—é —á–∞—Å—Ç—å –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è

		// –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –∏ –ø—Ä–æ–≤–æ–¥–∏–º
		–ù–æ–≤–∞—è–ó–∞—è–≤–∫–∞.–ó–∞–ø–∏—Å–∞—Ç—å(–†–µ–∂–∏–º–ó–∞–ø–∏—Å–∏–î–æ–∫—É–º–µ–Ω—Ç–∞.–ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ);

		–°–æ–æ–±—â–∏—Ç—å("   ‚úÖ –°–æ–∑–¥–∞–Ω –¥–æ–∫—É–º–µ–Ω—Ç: " + –ù–æ–≤–∞—è–ó–∞—è–≤–∫–∞ + ", ‚Ññ" + –ù–æ–≤–∞—è–ó–∞—è–≤–∫–∞.–ù–æ–º–µ—Ä);

		–í–æ–∑–≤—Ä–∞—Ç –ù–æ–≤–∞—è–ó–∞—è–≤–∫–∞;

	–ò—Å–∫–ª—é—á–µ–Ω–∏–µ
		–°–æ–æ–±—â–∏—Ç—å("   ‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞: " + –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏());
		–í–æ–∑–≤—Ä–∞—Ç –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ;
	–ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏


// ======================================
// –°–ü–†–ê–í–û–ß–ù–ò–ö–ò –ò –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò
// ======================================

// –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞ –ø–æ –ò–ù–ù, —Å–æ–∑–¥–∞–Ω–∏–µ –µ—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω
//
// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
//   –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞ - –°—Ç—Ä—É–∫—Ç—É—Ä–∞
//
// –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
//   –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–°—Å—ã–ª–∫–∞.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã
//
–§—É–Ω–∫—Ü–∏—è –ù–∞–π—Ç–∏–ò–ª–∏–°–æ–∑–¥–∞—Ç—å–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞(–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞)

	–ü–æ–ø—ã—Ç–∫–∞

		–ò–ù–ù = "";
		–ï—Å–ª–∏ –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞.–°–≤–æ–π—Å—Ç–≤–æ("supplier_inn") –ò –ó–Ω–∞—á–µ–Ω–∏–µ–ó–∞–ø–æ–ª–Ω–µ–Ω–æ(–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["supplier_inn"]) –¢–æ–≥–¥–∞
			–ò–ù–ù = –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["supplier_inn"];
		–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

		–ï—Å–ª–∏ –ù–ï –ó–Ω–∞—á–µ–Ω–∏–µ–ó–∞–ø–æ–ª–Ω–µ–Ω–æ(–ò–ù–ù) –¢–æ–≥–¥–∞
			–°–æ–æ–±—â–∏—Ç—å("   ‚ö†Ô∏è  –ù–µ—Ç –ò–ù–ù –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞");
			–í–æ–∑–≤—Ä–∞—Ç –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ;
		–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

		// –ò—â–µ–º –ø–æ –ò–ù–ù
		–ó–∞–ø—Ä–æ—Å = –ù–æ–≤—ã–π –ó–∞–ø—Ä–æ—Å;
		–ó–∞–ø—Ä–æ—Å.–¢–µ–∫—Å—Ç = "–í–´–ë–†–ê–¢–¨ –ü–ï–†–í–´–ï 1
		|    –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã.–°—Å—ã–ª–∫–∞ –ö–ê–ö –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç
		|–ò–ó
		|    –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã –ö–ê–ö –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã
		|–ì–î–ï
		|    –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã.–ò–ù–ù = &–ò–ù–ù
		|    –ò –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã.–ü–æ–º–µ—Ç–∫–∞–£–¥–∞–ª–µ–Ω–∏—è = –õ–û–ñ–¨";

		–ó–∞–ø—Ä–æ—Å.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–ü–∞—Ä–∞–º–µ—Ç—Ä("–ò–ù–ù", –ò–ù–ù);

		–†–µ–∑—É–ª—å—Ç–∞—Ç = –ó–∞–ø—Ä–æ—Å.–í—ã–ø–æ–ª–Ω–∏—Ç—å();

		–ï—Å–ª–∏ –ù–ï –†–µ–∑—É–ª—å—Ç–∞—Ç.–ü—É—Å—Ç–æ–π() –¢–æ–≥–¥–∞
			// –ù–∞–π–¥–µ–Ω
			–í—ã–±–æ—Ä–∫–∞ = –†–µ–∑—É–ª—å—Ç–∞—Ç.–í—ã–±—Ä–∞—Ç—å();
			–í—ã–±–æ—Ä–∫–∞.–°–ª–µ–¥—É—é—â–∏–π();
			–°–æ–æ–±—â–∏—Ç—å("   ‚úÖ –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç –Ω–∞–π–¥–µ–Ω: " + –í—ã–±–æ—Ä–∫–∞.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç);
			–í–æ–∑–≤—Ä–∞—Ç –í—ã–±–æ—Ä–∫–∞.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç;
		–ò–Ω–∞—á–µ
			// –°–æ–∑–¥–∞–µ–º –Ω–æ–≤–æ–≥–æ
			–°–æ–æ–±—â–∏—Ç—å("   ‚ûï –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–∞...");

			–ù–æ–≤—ã–π–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç = –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç—ã.–°–æ–∑–¥–∞—Ç—å–≠–ª–µ–º–µ–Ω—Ç();
			–ù–æ–≤—ã–π–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç.–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ = –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["supplier_name"];
			–ù–æ–≤—ã–π–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç.–ò–ù–ù = –ò–ù–ù;

			–ï—Å–ª–∏ –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞.–°–≤–æ–π—Å—Ç–≤–æ("supplier_kpp") –ò –ó–Ω–∞—á–µ–Ω–∏–µ–ó–∞–ø–æ–ª–Ω–µ–Ω–æ(–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["supplier_kpp"]) –¢–æ–≥–¥–∞
				–ù–æ–≤—ã–π–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç.–ö–ü–ü = –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["supplier_kpp"];
			–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

			// TODO: –ó–∞–ø–æ–ª–Ω–∏—Ç—å –±–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è
			// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª—è: supplier_bank_name, supplier_bik, supplier_account, supplier_correspondent_account

			–ù–æ–≤—ã–π–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç.–ó–∞–ø–∏—Å–∞—Ç—å();

			–°–æ–æ–±—â–∏—Ç—å("   ‚úÖ –°–æ–∑–¥–∞–Ω –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç: " + –ù–æ–≤—ã–π–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç + ", –ò–ù–ù: " + –ò–ù–ù);
			–í–æ–∑–≤—Ä–∞—Ç –ù–æ–≤—ã–π–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç.–°—Å—ã–ª–∫–∞;
		–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–ò—Å–∫–ª—é—á–µ–Ω–∏–µ
		–°–æ–æ–±—â–∏—Ç—å("   ‚ùå –û—à–∏–±–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –∫–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç–æ–º: " + –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏());
		–í–æ–∑–≤—Ä–∞—Ç –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ;
	–ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏


// –ü–æ–ª—É—á–µ–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞
//
// –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:
//   –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞ - –°—Ç—Ä—É–∫—Ç—É—Ä–∞
//
// –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
//   –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–°—Å—ã–ª–∫–∞.–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
//
–§—É–Ω–∫—Ü–∏—è –ü–æ–ª—É—á–∏—Ç—å–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é(–î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞)

	–ü–æ–ø—ã—Ç–∫–∞

		// TODO: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏–∫—É –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
		// –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å department_id –∏–∑ –î–∞–Ω–Ω—ã–µ–°—á–µ—Ç–∞["department_id"]

		// –ü—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç - –ø–æ–ª—É—á–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é
		–ó–∞–ø—Ä–æ—Å = –ù–æ–≤—ã–π –ó–∞–ø—Ä–æ—Å;
		–ó–∞–ø—Ä–æ—Å.–¢–µ–∫—Å—Ç = "–í–´–ë–†–ê–¢–¨ –ü–ï–†–í–´–ï 1
		|    –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.–°—Å—ã–ª–∫–∞ –ö–ê–ö –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è
		|–ò–ó
		|    –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫.–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –ö–ê–ö –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
		|–ì–î–ï
		|    –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.–ü–æ–º–µ—Ç–∫–∞–£–¥–∞–ª–µ–Ω–∏—è = –õ–û–ñ–¨";

		–†–µ–∑—É–ª—å—Ç–∞—Ç = –ó–∞–ø—Ä–æ—Å.–í—ã–ø–æ–ª–Ω–∏—Ç—å();

		–ï—Å–ª–∏ –ù–ï –†–µ–∑—É–ª—å—Ç–∞—Ç.–ü—É—Å—Ç–æ–π() –¢–æ–≥–¥–∞
			–í—ã–±–æ—Ä–∫–∞ = –†–µ–∑—É–ª—å—Ç–∞—Ç.–í—ã–±—Ä–∞—Ç—å();
			–í—ã–±–æ—Ä–∫–∞.–°–ª–µ–¥—É—é—â–∏–π();
			–í–æ–∑–≤—Ä–∞—Ç –í—ã–±–æ—Ä–∫–∞.–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è;
		–ò–Ω–∞—á–µ
			–í–æ–∑–≤—Ä–∞—Ç –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ;
		–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–ò—Å–∫–ª—é—á–µ–Ω–∏–µ
		–°–æ–æ–±—â–∏—Ç—å("   ‚ùå –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏: " + –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏());
		–í–æ–∑–≤—Ä–∞—Ç –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ;
	–ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏


// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ –∑–∞—Ç—Ä–∞—Ç
//
// –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:
//   –ü–ª–∞–Ω–í–∏–¥–æ–≤–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–°—Å—ã–ª–∫–∞.–°—Ç–∞—Ç—å–∏–ó–∞—Ç—Ä–∞—Ç
//
–§—É–Ω–∫—Ü–∏—è –ü–æ–ª—É—á–∏—Ç—å–°—Ç–∞—Ç—å—é–ó–∞—Ç—Ä–∞—Ç()

	–ü–æ–ø—ã—Ç–∫–∞

		// TODO: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –±—é–¥–∂–µ—Ç–∞ –∏ —Å—Ç–∞—Ç–µ–π –∑–∞—Ç—Ä–∞—Ç –≤ 1–°

		–ó–∞–ø—Ä–æ—Å = –ù–æ–≤—ã–π –ó–∞–ø—Ä–æ—Å;
		–ó–∞–ø—Ä–æ—Å.–¢–µ–∫—Å—Ç = "–í–´–ë–†–ê–¢–¨ –ü–ï–†–í–´–ï 1
		|    –°—Ç–∞—Ç—å–∏–ó–∞—Ç—Ä–∞—Ç.–°—Å—ã–ª–∫–∞ –ö–ê–ö –°—Ç–∞—Ç—å—è–ó–∞—Ç—Ä–∞—Ç
		|–ò–ó
		|    –ü–ª–∞–Ω–í–∏–¥–æ–≤–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫.–°—Ç–∞—Ç—å–∏–ó–∞—Ç—Ä–∞—Ç –ö–ê–ö –°—Ç–∞—Ç—å–∏–ó–∞—Ç—Ä–∞—Ç
		|–ì–î–ï
		|    –°—Ç–∞—Ç—å–∏–ó–∞—Ç—Ä–∞—Ç.–ü–æ–º–µ—Ç–∫–∞–£–¥–∞–ª–µ–Ω–∏—è = –õ–û–ñ–¨";

		–†–µ–∑—É–ª—å—Ç–∞—Ç = –ó–∞–ø—Ä–æ—Å.–í—ã–ø–æ–ª–Ω–∏—Ç—å();

		–ï—Å–ª–∏ –ù–ï –†–µ–∑—É–ª—å—Ç–∞—Ç.–ü—É—Å—Ç–æ–π() –¢–æ–≥–¥–∞
			–í—ã–±–æ—Ä–∫–∞ = –†–µ–∑—É–ª—å—Ç–∞—Ç.–í—ã–±—Ä–∞—Ç—å();
			–í—ã–±–æ—Ä–∫–∞.–°–ª–µ–¥—É—é—â–∏–π();
			–í–æ–∑–≤—Ä–∞—Ç –í—ã–±–æ—Ä–∫–∞.–°—Ç–∞—Ç—å—è–ó–∞—Ç—Ä–∞—Ç;
		–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

		–í–æ–∑–≤—Ä–∞—Ç –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ;

	–ò—Å–∫–ª—é—á–µ–Ω–∏–µ
		–í–æ–∑–≤—Ä–∞—Ç –ù–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ;
	–ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏


#–û–±–ª–∞—Å—Ç—å –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ–§—É–Ω–∫—Ü–∏–∏

// –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞ —Å–≤–µ–¥–µ–Ω–∏–π –∏–ª–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
//
–§—É–Ω–∫—Ü–∏—è –ü–æ–ª—É—á–∏—Ç—å–ù–∞—Å—Ç—Ä–æ–π–∫—É(–ò–º—è–ù–∞—Å—Ç—Ä–æ–π–∫–∏)

	// TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞ —Å–≤–µ–¥–µ–Ω–∏–π "–ù–∞—Å—Ç—Ä–æ–π–∫–∏–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏–°API"
	// –î–ª—è –ø—Ä–∏–º–µ—Ä–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è

	–ï—Å–ª–∏ –ò–º—è–ù–∞—Å—Ç—Ä–æ–π–∫–∏ = "–ê–¥—Ä–µ—ÅAPI" –¢–æ–≥–¥–∞
		–í–æ–∑–≤—Ä–∞—Ç "http://93.189.228.52:8000/api/v1"; // TODO: –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –≤–∞—à —Å–µ—Ä–≤–µ—Ä
	–ò–Ω–∞—á–µ–ï—Å–ª–∏ –ò–º—è–ù–∞—Å—Ç—Ä–æ–π–∫–∏ = "APIToken" –¢–æ–≥–¥–∞
		–í–æ–∑–≤—Ä–∞—Ç ""; // TODO: –í–ê–ñ–ù–û! –ü–æ–ª—É—á–∏—Ç—å –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ "API Tokens" –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
	–ò–Ω–∞—á–µ–ï—Å–ª–∏ –ò–º—è–ù–∞—Å—Ç—Ä–æ–π–∫–∏ = "–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–û—Ç–¥–µ–ª–∞" –¢–æ–≥–¥–∞
		–í–æ–∑–≤—Ä–∞—Ç 1; // TODO: department_id (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
	–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–í–æ–∑–≤—Ä–∞—Ç "";

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏


// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ö–æ—Å—Ç–∞ –∏–∑ URL
//
–§—É–Ω–∫—Ü–∏—è –ò–∑–≤–ª–µ—á—å–•–æ—Å—Ç–ò–∑URL(URL)

	URL = –°—Ç—Ä–ó–∞–º–µ–Ω–∏—Ç—å(URL, "http://", "");
	URL = –°—Ç—Ä–ó–∞–º–µ–Ω–∏—Ç—å(URL, "https://", "");

	–ü–æ–∑–∏—Ü–∏—è–ü–æ—Ä—Ç–∞ = –ù–∞–π—Ç–∏(URL, ":");
	–ü–æ–∑–∏—Ü–∏—è–ü—É—Ç–∏ = –ù–∞–π—Ç–∏(URL, "/");

	–ï—Å–ª–∏ –ü–æ–∑–∏—Ü–∏—è–ü–æ—Ä—Ç–∞ > 0 –¢–æ–≥–¥–∞
		–í–æ–∑–≤—Ä–∞—Ç –õ–µ–≤(URL, –ü–æ–∑–∏—Ü–∏—è–ü–æ—Ä—Ç–∞ - 1);
	–ò–Ω–∞—á–µ–ï—Å–ª–∏ –ü–æ–∑–∏—Ü–∏—è–ü—É—Ç–∏ > 0 –¢–æ–≥–¥–∞
		–í–æ–∑–≤—Ä–∞—Ç –õ–µ–≤(URL, –ü–æ–∑–∏—Ü–∏—è–ü—É—Ç–∏ - 1);
	–ò–Ω–∞—á–µ
		–í–æ–∑–≤—Ä–∞—Ç URL;
	–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏


// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø–æ—Ä—Ç–∞ –∏–∑ URL
//
–§—É–Ω–∫—Ü–∏—è –ò–∑–≤–ª–µ—á—å–ü–æ—Ä—Ç–ò–∑URL(URL)

	–ï—Å–ª–∏ –ù–∞–π—Ç–∏(URL, "https://") > 0 –¢–æ–≥–¥–∞
		–í–æ–∑–≤—Ä–∞—Ç 443;
	–ò–Ω–∞—á–µ–ï—Å–ª–∏ –ù–∞–π—Ç–∏(URL, "http://") > 0 –¢–æ–≥–¥–∞
		–í–æ–∑–≤—Ä–∞—Ç 80;
	–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–ü–æ–∑–∏—Ü–∏—è–ü–æ—Ä—Ç–∞ = –ù–∞–π—Ç–∏(URL, ":");
	–ü–æ–∑–∏—Ü–∏—è–ü—É—Ç–∏ = –ù–∞–π—Ç–∏(URL, "/");

	–ï—Å–ª–∏ –ü–æ–∑–∏—Ü–∏—è–ü–æ—Ä—Ç–∞ > 0 –ò –ü–æ–∑–∏—Ü–∏—è–ü—É—Ç–∏ > –ü–æ–∑–∏—Ü–∏—è–ü–æ—Ä—Ç–∞ –¢–æ–≥–¥–∞
		–í–æ–∑–≤—Ä–∞—Ç –ß–∏—Å–ª–æ(–°—Ä–µ–¥(URL, –ü–æ–∑–∏—Ü–∏—è–ü–æ—Ä—Ç–∞ + 1, –ü–æ–∑–∏—Ü–∏—è–ü—É—Ç–∏ - –ü–æ–∑–∏—Ü–∏—è–ü–æ—Ä—Ç–∞ - 1));
	–ò–Ω–∞—á–µ–ï—Å–ª–∏ –ü–æ–∑–∏—Ü–∏—è–ü–æ—Ä—Ç–∞ > 0 –¢–æ–≥–¥–∞
		–í–æ–∑–≤—Ä–∞—Ç –ß–∏—Å–ª–æ(–°—Ä–µ–¥(URL, –ü–æ–∑–∏—Ü–∏—è–ü–æ—Ä—Ç–∞ + 1));
	–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

	–í–æ–∑–≤—Ä–∞—Ç 80;

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏


// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—É—Ç–∏ –∏–∑ URL
//
–§—É–Ω–∫—Ü–∏—è –ò–∑–≤–ª–µ—á—å–ü—É—Ç—å–ò–∑URL(URL)

	URL = –°—Ç—Ä–ó–∞–º–µ–Ω–∏—Ç—å(URL, "http://", "");
	URL = –°—Ç—Ä–ó–∞–º–µ–Ω–∏—Ç—å(URL, "https://", "");

	–ü–æ–∑–∏—Ü–∏—è–ü—É—Ç–∏ = –ù–∞–π—Ç–∏(URL, "/");

	–ï—Å–ª–∏ –ü–æ–∑–∏—Ü–∏—è–ü—É—Ç–∏ > 0 –¢–æ–≥–¥–∞
		–í–æ–∑–≤—Ä–∞—Ç –°—Ä–µ–¥(URL, –ü–æ–∑–∏—Ü–∏—è–ü—É—Ç–∏);
	–ò–Ω–∞—á–µ
		–í–æ–∑–≤—Ä–∞—Ç "/";
	–ö–æ–Ω–µ—Ü–ï—Å–ª–∏;

–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏

#–ö–æ–Ω–µ—Ü–û–±–ª–∞—Å—Ç–∏

#–ö–æ–Ω–µ—Ü–û–±–ª–∞—Å—Ç–∏
