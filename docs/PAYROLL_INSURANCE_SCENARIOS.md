# Payroll Insurance Scenarios - –°—Ü–µ–Ω–∞—Ä–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –§–û–¢ —Å —É—á–µ—Ç–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤–∑–Ω–æ—Å–æ–≤

## –û–±–∑–æ—Ä

**Payroll Insurance Scenarios** - –º–æ–¥—É–ª—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–ª–∏—è–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –≤–∑–Ω–æ—Å–∞—Ö –º–µ–∂–¥—É –ª—é–±—ã–º–∏ –≥–æ–¥–∞–º–∏ –Ω–∞ —Ñ–æ–Ω–¥ –æ–ø–ª–∞—Ç—ã —Ç—Ä—É–¥–∞ –∏ —Å—Ü–µ–Ω–∞—Ä–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —à—Ç–∞—Ç–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è.

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- ‚úÖ –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ —Å—Ç–∞–≤–æ–∫ —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –≤–∑–Ω–æ—Å–æ–≤ –ø–æ –≥–æ–¥–∞–º
- ‚úÖ –°—Ü–µ–Ω–∞—Ä–Ω–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –§–û–¢ (–±–∞–∑–æ–≤—ã–π, –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–π, –ø–µ—Å—Å–∏–º–∏—Å—Ç–∏—á–Ω—ã–π)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –≤–ª–∏—è–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ª—é–±—ã—Ö –≥–æ–¥–æ–≤ (–≥–∏–±–∫–∏–π –≤—ã–±–æ—Ä –±–∞–∑–æ–≤–æ–≥–æ –∏ —Ü–µ–ª–µ–≤–æ–≥–æ –≥–æ–¥–∞)
- ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (—Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ —à—Ç–∞—Ç–∞, —Å–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ä–ø–ª–∞—Ç)
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ –∫–∞–∂–¥–æ–º—É —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É

## –ë–∏–∑–Ω–µ—Å-–∫–µ–π—Å

### –ü—Ä–æ–±–ª–µ–º–∞ (–ø—Ä–∏–º–µ—Ä: 2025 vs 2026)
–í –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–∏–º–µ—Ä–∞ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º –ø–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ç–∞–≤–∫–∞—Ö —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –≤–∑–Ω–æ—Å–æ–≤ 2026 –≥–æ–¥–∞:
- **–ü–§–† (–ü–µ–Ω—Å–∏–æ–Ω–Ω—ã–π —Ñ–æ–Ω–¥)**: 22% ‚Üí **30%** (+8 –ø.–ø.)
- **–§–û–ú–° (–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ)**: 5.1% ‚Üí **6%** (+0.9 –ø.–ø.)
- **–§–°–° (–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ)**: 2.9% ‚Üí **3.5%** (+0.6 –ø.–ø.)

**–ò—Ç–æ–≥–æ**: –Ω–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—è —Ä–∞—Å—Ç–µ—Ç —Å **30%** –¥–æ **39.5%** (+9.5 –ø.–ø.)

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –ª—é–±—ã–µ –≥–æ–¥—ã, –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—è—Å—å 2025 –∏ 2026. –í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –ª—é–±–æ–π –±–∞–∑–æ–≤—ã–π –∏ —Ü–µ–ª–µ–≤–æ–π –≥–æ–¥ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.

### –í–ª–∏—è–Ω–∏–µ –Ω–∞ –∫–æ–º–ø–∞–Ω–∏—é

–ü—Ä–∏ –§–û–¢ 10 –º–ª–Ω —Ä—É–±/–º–µ—Å—è—Ü:
- **2025**: –í–∑–Ω–æ—Å—ã = 3 –º–ª–Ω —Ä—É–±/–º–µ—Å—è—Ü (36 –º–ª–Ω —Ä—É–±/–≥–æ–¥)
- **2026**: –í–∑–Ω–æ—Å—ã = 3.95 –º–ª–Ω —Ä—É–±/–º–µ—Å—è—Ü (47.4 –º–ª–Ω —Ä—É–±/–≥–æ–¥)
- **–†–æ—Å—Ç –∑–∞—Ç—Ä–∞—Ç**: +11.4 –º–ª–Ω —Ä—É–±/–≥–æ–¥ (+31.7%)

### –†–µ—à–µ–Ω–∏–µ

–ú–æ–¥—É–ª—å –ø–æ–∑–≤–æ–ª—è–µ—Ç:
1. –°–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è
2. –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ç–æ—á–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –±—é–¥–∂–µ—Ç
3. –ü—Ä–∏–Ω—è—Ç—å –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –ø–æ —à—Ç–∞—Ç–Ω–æ–º—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
4. –°—Ä–∞–≤–Ω–∏—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### 1. InsuranceRate - –°—Ç–∞–≤–∫–∏ —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –≤–∑–Ω–æ—Å–æ–≤

```python
class InsuranceRate:
    year: int                      # –ì–æ–¥ –¥–µ–π—Å—Ç–≤–∏—è (2025, 2026, ...)
    rate_type: TaxTypeEnum         # PENSION_FUND, MEDICAL_INSURANCE, SOCIAL_INSURANCE, INJURY_INSURANCE
    rate_percentage: Decimal       # –°—Ç–∞–≤–∫–∞ –≤ % (22.0 –¥–ª—è 22%)
    threshold_amount: Decimal      # –ü–æ—Ä–æ–≥ –¥–ª—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–π —à–∫–∞–ª—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    rate_above_threshold: Decimal  # –°—Ç–∞–≤–∫–∞ –≤—ã—à–µ –ø–æ—Ä–æ–≥–∞
    description: str               # "–ü–æ–≤—ã—à–µ–Ω–∏–µ —Å 22% –¥–æ 30%"
    legal_basis: str               # "–§–ó-123 –æ—Ç 01.01.2026"
    total_employer_burden: Decimal # –û–±—â–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ (—Å—É–º–º–∞ –≤—Å–µ—Ö –≤–∑–Ω–æ—Å–æ–≤)
```

**–ü—Ä–∏–º–µ—Ä:**
```json
{
  "year": 2026,
  "rate_type": "PENSION_FUND",
  "rate_percentage": 30.0,
  "description": "–ü–æ–≤—ã—à–µ–Ω–∏–µ —Å 22% –¥–æ 30% —Å–æ–≥–ª–∞—Å–Ω–æ –§–ó-xxx",
  "legal_basis": "–§–ó-xxx –æ—Ç 01.12.2025",
  "total_employer_burden": 39.5
}
```

### 2. PayrollScenario - –°—Ü–µ–Ω–∞—Ä–∏–π –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –§–û–¢

```python
class PayrollScenario:
    name: str                          # "–ë–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π 2026"
    scenario_type: Enum                # BASE, OPTIMISTIC, PESSIMISTIC, CUSTOM
    target_year: int                   # 2026
    base_year: int                     # 2025
    headcount_change_percent: Decimal  # -10 (—Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –Ω–∞ 10%)
    salary_change_percent: Decimal     # -5 (—Å–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ä–ø–ª–∞—Ç –Ω–∞ 5%)

    # –†–∞—Å—á–µ—Ç–Ω—ã–µ –ø–æ–ª—è (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
    total_headcount: int
    total_base_salary: Decimal
    total_insurance_cost: Decimal
    total_payroll_cost: Decimal
    cost_difference: Decimal           # –†–∞–∑–Ω–∏—Ü–∞ —Å –±–∞–∑–æ–≤—ã–º –≥–æ–¥–æ–º
    cost_difference_percent: Decimal
```

**–¢–∏–ø—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:**
- **BASE**: –¢–µ–∫—É—â–∏–π —à—Ç–∞—Ç + –Ω–æ–≤—ã–µ —Å—Ç–∞–≤–∫–∏ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
- **OPTIMISTIC**: –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —à—Ç–∞—Ç–∞ –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ä–æ—Å—Ç –≤–∑–Ω–æ—Å–æ–≤
- **PESSIMISTIC**: –°–æ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Ä–æ—Å—Ç–∞ –≤–∑–Ω–æ—Å–æ–≤
- **CUSTOM**: –ö–∞—Å—Ç–æ–º–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π

### 3. PayrollScenarioDetail - –î–µ—Ç–∞–ª–∏ –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º

```python
class PayrollScenarioDetail:
    employee_name: str
    position: str
    is_new_hire: bool            # –ù–æ–≤—ã–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫
    is_terminated: bool          # –£–≤–æ–ª—å–Ω–µ–Ω–∏–µ
    termination_month: int       # –ú–µ—Å—è—Ü —É–≤–æ–ª—å–Ω–µ–Ω–∏—è (1-12)

    base_salary: Decimal
    monthly_bonus: Decimal

    # –†–∞—Å—á–µ—Ç–Ω—ã–µ –≤–∑–Ω–æ—Å—ã (–ø–æ –Ω–æ–≤—ã–º —Å—Ç–∞–≤–∫–∞–º 2026)
    pension_contribution: Decimal   # –ü–§–† 30%
    medical_contribution: Decimal   # –§–û–ú–° 6%
    social_contribution: Decimal    # –§–°–° 3.5%
    injury_contribution: Decimal    # –ù–°
    total_insurance: Decimal

    income_tax: Decimal             # –ù–î–§–õ 13%
    total_employee_cost: Decimal    # –ü–æ–ª–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞

    # –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –±–∞–∑–æ–≤—ã–º –≥–æ–¥–æ–º
    base_year_salary: Decimal
    base_year_insurance: Decimal
    cost_increase: Decimal          # –†–æ—Å—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏
```

### 4. PayrollYearlyComparison - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≥–æ–¥–æ–≤

```python
class PayrollYearlyComparison:
    base_year: int                  # 2025
    target_year: int                # 2026

    # –î–∞–Ω–Ω—ã–µ –±–∞–∑–æ–≤–æ–≥–æ –≥–æ–¥–∞
    base_year_headcount: int
    base_year_total_salary: Decimal
    base_year_total_insurance: Decimal
    base_year_total_cost: Decimal

    # –î–∞–Ω–Ω—ã–µ —Ü–µ–ª–µ–≤–æ–≥–æ –≥–æ–¥–∞ (–ø—Ä–∏ —Ç–µ–∫—É—â–µ–º —à—Ç–∞—Ç–µ)
    target_year_total_insurance: Decimal  # –° –Ω–æ–≤—ã–º–∏ —Å—Ç–∞–≤–∫–∞–º–∏
    target_year_total_cost: Decimal

    # –ê–Ω–∞–ª–∏–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
    insurance_rate_change: JSON     # {"PENSION_FUND": {"from": 22, "to": 30}}
    total_cost_increase: Decimal    # –†–æ—Å—Ç –≤ —Ä—É–±–ª—è—Ö
    total_cost_increase_percent: Decimal

    # –†–∞–∑–±–∏–≤–∫–∞ –ø–æ —Ç–∏–ø–∞–º –≤–∑–Ω–æ—Å–æ–≤
    pension_increase: Decimal
    medical_increase: Decimal
    social_increase: Decimal

    # –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
    recommendations: JSON  # [{"type": "headcount_reduction", "value": 5, "impact": -500000}]
```

## –°–µ—Ä–≤–∏—Å—ã (Backend)

### PayrollScenarioCalculator

**–§–∞–π–ª**: `backend/app/services/payroll_scenario_calculator.py`

```python
calculator = PayrollScenarioCalculator(db, department_id)

# –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π
result = calculator.calculate_scenario(scenario_id=1)
# Returns:
# {
#   'total_headcount': 50,
#   'total_base_salary': 5000000.00,
#   'total_insurance_cost': 1975000.00,  # 39.5% –æ—Ç –∑–∞—Ä–ø–ª–∞—Ç
#   'total_payroll_cost': 6975000.00,
#   'cost_difference': +650000.00,
#   'cost_difference_percent': +10.3
# }
```

### InsuranceImpactAnalyzer

```python
analyzer = InsuranceImpactAnalyzer(db, department_id)

# –ê–Ω–∞–ª–∏–∑ –≤–ª–∏—è–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
impact = analyzer.analyze_impact(base_year=2025, target_year=2026)
# Returns:
# {
#   'rate_changes': {
#     'PENSION_FUND': {'from': 22, 'to': 30, 'change': +8},
#     'MEDICAL_INSURANCE': {'from': 5.1, 'to': 6, 'change': +0.9},
#     ...
#   },
#   'total_impact': 11400000.00,  # –†–æ—Å—Ç –∑–∞—Ç—Ä–∞—Ç –≤ —Ä—É–±–ª—è—Ö
#   'impact_percent': 31.7,
#   'recommendations': [
#     {
#       'type': 'headcount_reduction',
#       'description': '–°–æ–∫—Ä–∞—Ç–∏—Ç—å 5 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏',
#       'impact': -500000.00
#     },
#     {
#       'type': 'salary_reduction',
#       'description': '–°–Ω–∏–∑–∏—Ç—å –§–û–¢ –Ω–∞ 10% –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏',
#       'impact': -1140000.00
#     }
#   ]
# }
```

### PayrollComparisonGenerator

```python
generator = PayrollComparisonGenerator(db, department_id)

# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –ë–î)
comparison = generator.generate_comparison(
    base_year=2025,
    target_year=2026
)
```

## API Endpoints (–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

**Base path**: `/api/v1/payroll-scenarios`

```bash
# ==================== Insurance Rates ====================

# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞–≤–∫–∏ –¥–ª—è –≥–æ–¥–∞
GET /api/v1/payroll-scenarios/insurance-rates?year=2026

# –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞–≤–∫—É
POST /api/v1/payroll-scenarios/insurance-rates
{
  "year": 2026,
  "rate_type": "PENSION_FUND",
  "rate_percentage": 30.0,
  "description": "–ü–æ–≤—ã—à–µ–Ω–∏–µ —Å 22% –¥–æ 30%"
}

# ==================== Scenarios ====================

# –°–æ–∑–¥–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π
POST /api/v1/payroll-scenarios/scenarios
{
  "name": "–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ 10%",
  "scenario_type": "PESSIMISTIC",
  "target_year": 2026,
  "base_year": 2025,
  "headcount_change_percent": -10,
  "salary_change_percent": 0
}

# –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π
POST /api/v1/payroll-scenarios/scenarios/{id}/calculate

# –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è
GET /api/v1/payroll-scenarios/scenarios/{id}/details

# ==================== Analysis ====================

# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≥–æ–¥–æ–≤
GET /api/v1/payroll-scenarios/compare?base_year=2025&target_year=2026

# –ê–Ω–∞–ª–∏–∑ –≤–ª–∏—è–Ω–∏—è
GET /api/v1/payroll-scenarios/impact-analysis?base_year=2025&target_year=2026
```

## Frontend (–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ)

### –°—Ç—Ä–∞–Ω–∏—Ü—ã

1. **PayrollScenariosPage.tsx** - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–¥—É–ª—è —Å:
   - –í—ã–±–æ—Ä–æ–º –±–∞–∑–æ–≤–æ–≥–æ –∏ —Ü–µ–ª–µ–≤–æ–≥–æ –≥–æ–¥–∞ (–≥–∏–±–∫–∏–π –≤—ã–±–æ—Ä –ª—é–±—ã—Ö –≥–æ–¥–æ–≤)
   - –ê–Ω–∞–ª–∏–∑–æ–º –≤–ª–∏—è–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –≤–∑–Ω–æ—Å–æ–≤
   - –°–æ–∑–¥–∞–Ω–∏–µ–º –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Å—Ü–µ–Ω–∞—Ä–∏—è–º–∏
   - –†–∞—Å—á–µ—Ç–æ–º –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ–º —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

### UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**Comparison Dashboard (–ø—Ä–∏–º–µ—Ä 2025 vs 2026):**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üìä –í–ª–∏—è–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç—Ä–∞—Ö–æ–≤—ã—Ö –≤–∑–Ω–æ—Å–æ–≤               ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  –í—ã–±–æ—Ä –≥–æ–¥–æ–≤: [–ë–∞–∑–æ–≤—ã–π: 2025 ‚ñº] ‚Üí [–¶–µ–ª–µ–≤–æ–π: 2026 ‚ñº] ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  –ë–∞–∑–æ–≤—ã–π –≥–æ–¥ (2025)           –¶–µ–ª–µ–≤–æ–π –≥–æ–¥ (2026)      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îÇ
‚îÇ  ‚îÇ –®—Ç–∞—Ç: 50 —á–µ–ª    ‚îÇ          ‚îÇ –®—Ç–∞—Ç: 50 —á–µ–ª    ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ –§–û–¢: 60 –º–ª–Ω     ‚îÇ    ‚Üí     ‚îÇ –§–û–¢: 71.4 –º–ª–Ω   ‚îÇ     ‚îÇ
‚îÇ  ‚îÇ –í–∑–Ω–æ—Å—ã: 18 –º–ª–Ω  ‚îÇ          ‚îÇ –í–∑–Ω–æ—Å—ã: 23.7 –º–ª–Ω‚îÇ     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  üìà –†–æ—Å—Ç –∑–∞—Ç—Ä–∞—Ç: +11.4 –º–ª–Ω (+19%)                     ‚îÇ
‚îÇ                                                        ‚îÇ
‚îÇ  üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:                                     ‚îÇ
‚îÇ  ‚Ä¢ –°–æ–∫—Ä–∞—Ç–∏—Ç—å 5 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ ‚Üí —ç–∫–æ–Ω–æ–º–∏—è 6 –º–ª–Ω          ‚îÇ
‚îÇ  ‚Ä¢ –°–Ω–∏–∑–∏—Ç—å –∑–∞—Ä–ø–ª–∞—Ç—ã –Ω–∞ 10% ‚Üí —ç–∫–æ–Ω–æ–º–∏—è 6 –º–ª–Ω          ‚îÇ
‚îÇ  ‚Ä¢ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–µ–º–∏–π ‚Üí —ç–∫–æ–Ω–æ–º–∏—è 3.4 –º–ª–Ω             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ì–æ–¥—ã –≤—ã–±–∏—Ä–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ dropdown –º–µ–Ω—é. –î–æ—Å—Ç—É–ø–µ–Ω –¥–∏–∞–ø–∞–∑–æ–Ω –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ –≥–æ–¥–∞ -5 –¥–æ +5 –ª–µ—Ç.

## Workflow –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∞–≤–æ–∫ –¥–ª—è 2026

```bash
# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Å—Ç–∞–≤–∫–∏ –¥–ª—è 2026
curl -X POST "/api/v1/payroll-scenarios/insurance-rates" \
  -H "Authorization: Bearer $TOKEN" \
  -d '{
    "year": 2026,
    "rate_type": "PENSION_FUND",
    "rate_percentage": 30.0,
    "description": "–ü–æ–≤—ã—à–µ–Ω–∏–µ —Å 22% –¥–æ 30%"
  }'

# –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Ç–∏–ø–æ–≤ (MEDICAL_INSURANCE, SOCIAL_INSURANCE)
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è

```bash
# –°—Ü–µ–Ω–∞—Ä–∏–π "–∫–∞–∫ –µ—Å—Ç—å" (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
curl -X POST "/api/v1/payroll-scenarios/scenarios" \
  -d '{
    "name": "–ë–∞–∑–æ–≤—ã–π 2026 (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)",
    "scenario_type": "BASE",
    "target_year": 2026,
    "base_year": 2025,
    "headcount_change_percent": 0,
    "salary_change_percent": 0
  }'
```

### 3. –†–∞—Å—á–µ—Ç –≤–ª–∏—è–Ω–∏—è

```bash
# –†–∞—Å—Å—á–∏—Ç–∞—Ç—å –±–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π
curl -X POST "/api/v1/payroll-scenarios/scenarios/1/calculate"

# –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–∫–∞–∂–µ—Ç —Ä–æ—Å—Ç –∑–∞—Ç—Ä–∞—Ç
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

```bash
# –°—Ü–µ–Ω–∞—Ä–∏–π "–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ 10%"
curl -X POST "/api/v1/payroll-scenarios/scenarios" \
  -d '{
    "name": "–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ 10%",
    "scenario_type": "PESSIMISTIC",
    "headcount_change_percent": -10,
    "salary_change_percent": 0
  }'

# –°—Ü–µ–Ω–∞—Ä–∏–π "–°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ä–ø–ª–∞—Ç –Ω–∞ 5%"
curl -X POST "/api/v1/payroll-scenarios/scenarios" \
  -d '{
    "name": "–°–Ω–∏–∂–µ–Ω–∏–µ –∑–∞—Ä–ø–ª–∞—Ç 5%",
    "scenario_type": "PESSIMISTIC",
    "headcount_change_percent": 0,
    "salary_change_percent": -5
  }'
```

### 5. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

–í UI –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ side-by-side –∏ –≤—ã–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π.

## –ü—Ä–∏–º–µ—Ä—ã —Ä–∞—Å—á–µ—Ç–æ–≤

### –ü—Ä–∏–º–µ—Ä 1: –ö–æ–º–ø–∞–Ω–∏—è —Å 50 —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º–∏

**–ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (2025):**
- –®—Ç–∞—Ç: 50 —á–µ–ª–æ–≤–µ–∫
- –°—Ä–µ–¥–Ω—è—è –∑–∞—Ä–ø–ª–∞—Ç–∞: 100 000 —Ä—É–±/–º–µ—Å—è—Ü
- –§–û–¢ –≤ –º–µ—Å—è—Ü: 5 –º–ª–Ω —Ä—É–±
- –í–∑–Ω–æ—Å—ã (30%): 1.5 –º–ª–Ω —Ä—É–±/–º–µ—Å—è—Ü
- **–ò—Ç–æ–≥–æ –∑–∞ –≥–æ–¥**: 78 –º–ª–Ω —Ä—É–± (60 –º–ª–Ω + 18 –º–ª–Ω –≤–∑–Ω–æ—Å—ã)

**–ë–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π 2026 (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π):**
- –®—Ç–∞—Ç: 50 —á–µ–ª–æ–≤–µ–∫
- –§–û–¢ –≤ –º–µ—Å—è—Ü: 5 –º–ª–Ω —Ä—É–±
- –í–∑–Ω–æ—Å—ã (39.5%): 1.975 –º–ª–Ω —Ä—É–±/–º–µ—Å—è—Ü
- **–ò—Ç–æ–≥–æ –∑–∞ –≥–æ–¥**: 83.7 –º–ª–Ω —Ä—É–±
- **–†–æ—Å—Ç –∑–∞—Ç—Ä–∞—Ç**: +5.7 –º–ª–Ω —Ä—É–± (+7.3%)

**–°—Ü–µ–Ω–∞—Ä–∏–π "–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ 5 —á–µ–ª–æ–≤–µ–∫":**
- –®—Ç–∞—Ç: 45 —á–µ–ª–æ–≤–µ–∫
- –§–û–¢ –≤ –º–µ—Å—è—Ü: 4.5 –º–ª–Ω —Ä—É–±
- –í–∑–Ω–æ—Å—ã (39.5%): 1.78 –º–ª–Ω —Ä—É–±/–º–µ—Å—è—Ü
- **–ò—Ç–æ–≥–æ –∑–∞ –≥–æ–¥**: 75.4 –º–ª–Ω —Ä—É–±
- **–≠–∫–æ–Ω–æ–º–∏—è**: -2.6 –º–ª–Ω —Ä—É–± –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å 2025

## Database Migration

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
cd backend
alembic upgrade head
```

Migration creates:
- `insurance_rates` table
- `payroll_scenarios` table
- `payroll_scenario_details` table
- `payroll_yearly_comparisons` table

## –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ

–°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—Å—Ç–∞–≤–∫–∏ 2025 –∏ 2026):

```python
# backend/scripts/seed_insurance_rates.py

from app.db.models import InsuranceRate, TaxTypeEnum
from decimal import Decimal

# –°—Ç–∞–≤–∫–∏ 2025 (—Ç–µ–∫—É—â–∏–µ)
rates_2025 = [
    {"rate_type": TaxTypeEnum.PENSION_FUND, "rate_percentage": Decimal("22.0")},
    {"rate_type": TaxTypeEnum.MEDICAL_INSURANCE, "rate_percentage": Decimal("5.1")},
    {"rate_type": TaxTypeEnum.SOCIAL_INSURANCE, "rate_percentage": Decimal("2.9")},
    {"rate_type": TaxTypeEnum.INJURY_INSURANCE, "rate_percentage": Decimal("0.2")},
]

# –°—Ç–∞–≤–∫–∏ 2026 (–ø–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ)
rates_2026 = [
    {"rate_type": TaxTypeEnum.PENSION_FUND, "rate_percentage": Decimal("30.0"),
     "description": "–ü–æ–≤—ã—à–µ–Ω–∏–µ —Å 22% –¥–æ 30%"},
    {"rate_type": TaxTypeEnum.MEDICAL_INSURANCE, "rate_percentage": Decimal("6.0"),
     "description": "–ü–æ–≤—ã—à–µ–Ω–∏–µ —Å 5.1% –¥–æ 6%"},
    {"rate_type": TaxTypeEnum.SOCIAL_INSURANCE, "rate_percentage": Decimal("3.5"),
     "description": "–ü–æ–≤—ã—à–µ–Ω–∏–µ —Å 2.9% –¥–æ 3.5%"},
    {"rate_type": TaxTypeEnum.INJURY_INSURANCE, "rate_percentage": Decimal("0.2")},
]

# Create records for each department
for dept in departments:
    for year, rates in [(2025, rates_2025), (2026, rates_2026)]:
        for rate in rates:
            db.add(InsuranceRate(
                year=year,
                department_id=dept.id,
                **rate
            ))
```

## –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

**–ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π:**
1. **Total Cost Increase** - –û–±—â–∏–π —Ä–æ—Å—Ç –∑–∞—Ç—Ä–∞—Ç –≤ —Ä—É–±–ª—è—Ö
2. **Impact Percent** - –†–æ—Å—Ç –∑–∞—Ç—Ä–∞—Ç –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
3. **Cost Per Employee** - –°—Ç–æ–∏–º–æ—Å—Ç—å –æ–¥–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (—Å —É—á–µ—Ç–æ–º –≤–∑–Ω–æ—Å–æ–≤)
4. **Break-even Headcount** - –ß–∏—Å–ª–µ–Ω–Ω–æ—Å—Ç—å —à—Ç–∞—Ç–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –±—é–¥–∂–µ—Ç–∞
5. **Savings Required** - –ù–µ–æ–±—Ö–æ–¥–∏–º–∞—è —ç–∫–æ–Ω–æ–º–∏—è –¥–ª—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Ä–æ—Å—Ç–∞

## Best Practices

1. **–û–±–Ω–æ–≤–ª—è–π—Ç–µ —Å—Ç–∞–≤–∫–∏ –∑–∞—Ä–∞–Ω–µ–µ** - –∫–∞–∫ —Ç–æ–ª—å–∫–æ –∏–∑–≤–µ—Å—Ç–Ω—ã –ø–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
2. **–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤** - –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
3. **–£—á–∏—Ç—ã–≤–∞–π—Ç–µ –Ω–µ —Ç–æ–ª—å–∫–æ –ø—Ä—è–º—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è** - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–µ–º–∏–π –º–æ–∂–µ—Ç –±—ã—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ
4. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Ä–µ—à–µ–Ω–∏—è** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ–ª–µ `notes` –¥–ª—è –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è
5. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø–µ—Ä–µ—Å—á–∏—Ç—ã–≤–∞–π—Ç–µ** - –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —à—Ç–∞—Ç–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –º–æ–¥—É–ª—è–º–∏

- **Payroll Plans** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Å—Ç–∞–≤–æ–∫ –∫ –ø–ª–∞–Ω–∞–º –§–û–¢
- **Budget Planning** - –≤–∫–ª—é—á–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞—Ç—Ä–∞—Ç –≤ –±—é–¥–∂–µ—Ç 2026
- **Analytics** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–µ–Ω–¥–æ–≤ –∏ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
- **Founder Dashboard** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–ª—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞

## Roadmap

- [x] –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
- [x] Database migration
- [x] Pydantic schemas
- [x] –°–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ä–∞—Å—á–µ—Ç–æ–≤
- [x] API endpoints
- [x] Frontend —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- [x] –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (seed —Å–∫—Ä–∏–ø—Ç –¥–ª—è 2025/2026)
- [x] –ì–∏–±–∫–∏–π –≤—ã–±–æ—Ä –≥–æ–¥–æ–≤ –≤ UI
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç—á–µ—Ç—ã
- [ ] Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø—Ä–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å 1C (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å—Ç–∞–≤–æ–∫)

## Support

–í–æ–ø—Ä–æ—Å—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è: —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
